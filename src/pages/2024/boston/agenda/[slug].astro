---
import Layout from "@layouts/Base.astro";
import PersonCard from "@components/PersonCard";
import ContentBox from "@components/ContentBox/index.astro";
import Button from "@components/Button";
import SEO from "@components/SEO";
import { sessionPages } from "@data/sessions";

export function getStaticPaths() {
  return sessionPages.map((session) => ({
    params: { slug: session.slug },
  }));
}

const session = sessionPages.find(
  (session) => session.slug === Astro.params.slug,
);
console.log(">>", session.description);
---

<Layout namespace="2024/boston" altBG>
  <SEO slot="head" title={session.title} img={1} />
  <section class="pb-10 pt-16 md:py-20">
    <div class="container smallest">
      <ContentBox
        backLink={{
          label: "Back to sessions",
          href: "/2024/boston/agenda/schedule",
        }}
      >
        <div class="flex flex-col sm:flex-row items-center mb-8">
          <div class="flex-auto text-center sm:text-left pt-6 sm:pt-0">
            <h1 class="text-3xl md:text-4xl font-bold mb-3 font-display">
              {session.title}
            </h1>
          </div>
        </div>
        <div
          class="text-left text-brand-300 font-light text-sm sm:text-base whitespace-pre-line"
        >
          {session.description}
        </div>
        {
          !!session.projectURL && (
            <Button cta href={session.projectURL} className="mt-6">
              View project
            </Button>
          )
        }
        <h2 class="h2 mt-16 text-left mb-6">Speakers</h2>
        <div class="flex flex-wrap -m-2">
          {
            session.speakers.map((speaker, i) => (
              <PersonCard className="p-2 w-full" person={speaker} smaller />
            ))
          }
        </div>
      </ContentBox>
    </div>
  </section>
</Layout>
